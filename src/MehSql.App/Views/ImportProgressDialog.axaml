<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        x:Class="MehSql.App.Views.ImportProgressDialog"
        Title="Importing SQLite Database"
        Width="600" Height="420"
        CanResize="False"
        WindowStartupLocation="CenterOwner"
        Background="#1E1E2E">
  <Grid RowDefinitions="*,Auto" Margin="24">

    <!-- Main Content -->
    <StackPanel Grid.Row="0" Spacing="14">
      <TextBlock Text="SQLite â†’ DecentDB Import" FontSize="20" FontWeight="Bold" Foreground="#CDD6F4"/>
      <Separator Background="#45475A"/>

      <!-- Phase -->
      <TextBlock x:Name="PhaseLabel" Text="Analyzing..." FontSize="14" FontWeight="SemiBold" Foreground="#89B4FA"/>

      <!-- Overall Progress -->
      <StackPanel Spacing="4">
        <TextBlock x:Name="OverallLabel" Text="Tables: 0 / 0" Foreground="#A6ADC8" FontSize="12"/>
        <ProgressBar x:Name="OverallProgress" Minimum="0" Maximum="100" Value="0" Height="18"/>
      </StackPanel>

      <!-- Current Table Progress -->
      <StackPanel Spacing="4">
        <TextBlock x:Name="TableLabel" Text="" Foreground="#A6ADC8" FontSize="12"/>
        <ProgressBar x:Name="TableProgress" Minimum="0" Maximum="100" Value="0" Height="14"/>
      </StackPanel>

      <!-- Elapsed Time -->
      <TextBlock x:Name="ElapsedLabel" Text="Elapsed: 0:00" Foreground="#6C7086" FontSize="11"/>

      <!-- Status Message -->
      <TextBlock x:Name="StatusMessage" Text="" Foreground="#CDD6F4" FontSize="12" TextWrapping="Wrap"/>

      <!-- Summary Panel (hidden until complete) -->
      <Border x:Name="SummaryPanel" IsVisible="False" Background="#313244" CornerRadius="4" Padding="12" BorderBrush="#45475A" BorderThickness="1">
        <SelectableTextBlock x:Name="SummaryText" Foreground="#CDD6F4" FontSize="12" TextWrapping="Wrap"/>
      </Border>
    </StackPanel>

    <!-- Buttons -->
    <StackPanel Grid.Row="1" Orientation="Horizontal" HorizontalAlignment="Right" Spacing="8" Margin="0,16,0,0">
      <Button x:Name="CopyButton" Content="ðŸ“‹ Copy Report" Padding="16,6" Click="OnCopyClick" IsVisible="False"/>
      <Button x:Name="CancelButton" Content="Cancel" Padding="24,6" Click="OnCancelClick"/>
      <Button x:Name="CloseButton" Content="Close" Padding="24,6" Click="OnCloseClick" IsVisible="False"/>
    </StackPanel>
  </Grid>
</Window>
